let _MAIN_LIST_URL="",_DELETE_LIST_URL="",_MAIN_TABLE=null;function _doDeleteData(){$("#_btnKampretDoDelete").prop("disabled",!0).html("loading...");var t=$("#_idModalInput").val();window.location.href=_DELETE_LIST_URL+"/"+t}!function(t){function e(){var t=$("#_kampretSearchBox").val(),e=_MAIN_TABLE.jqxGrid("source");e._source.url=_MAIN_LIST_URL+"?onchange=true&keywords="+t,_MAIN_TABLE.jqxGrid("gotopage",0),_MAIN_TABLE.jqxGrid("source",e)}t.fn.tableKampret=function(a){const l=t.extend({listUrl:null,deleteUrl:null,fields:[]},a);if(l.fields.length>0){_MAIN_LIST_URL=l.listUrl,_DELETE_LIST_URL=l.deleteUrl;'<div class="row"><div class="col-sm-3 offset-9"><div class="input-group"><input type="text" class="form-control" id="_kampretSearchBox" placeholder="Search"><span class="input-group-btn"><button type="button" id="_kampretSearchBoxButton" class="btn btn-primary btn-search"><i class="fa fa-search"></i></button></span></div></div></div><br />','<div class="modal fade" id="_kampretDeleteModal"><div class="modal-dialog" role="document"><div class="modal-content"><div class="modal-header"><input type="hidden" id="_idModalInput"><h4 class="modal-title">Are you sure to delete this data?</h4><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button></div><div class="modal-footer"><button type="button" class="btn btn-danger" data-dismiss="modal"><i class="fa fa-close"></i> Cancel</button><button type="button" onclick="_doDeleteData()" id="_btnKampretDoDelete" class="btn btn-primary"><i class="fa fa-check"></i> Save</button></div></div></div></div>','<div id="_myKampretTable"></div>',$(this).html('<div class="row"><div class="col-sm-3 offset-9"><div class="input-group"><input type="text" class="form-control" id="_kampretSearchBox" placeholder="Search"><span class="input-group-btn"><button type="button" id="_kampretSearchBoxButton" class="btn btn-primary btn-search"><i class="fa fa-search"></i></button></span></div></div></div><br /><div class="modal fade" id="_kampretDeleteModal"><div class="modal-dialog" role="document"><div class="modal-content"><div class="modal-header"><input type="hidden" id="_idModalInput"><h4 class="modal-title">Are you sure to delete this data?</h4><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button></div><div class="modal-footer"><button type="button" class="btn btn-danger" data-dismiss="modal"><i class="fa fa-close"></i> Cancel</button><button type="button" onclick="_doDeleteData()" id="_btnKampretDoDelete" class="btn btn-primary"><i class="fa fa-check"></i> Save</button></div></div></div></div><div id="_myKampretTable"></div>'),$("#_kampretSearchBox").keyup((function(t){"13"==(t.keyCode?t.keyCode:t.which)&&e()})),$("#_kampretSearchBoxButton").click((function(t){e()})),$(document).on("click",".btnKampretDelete",(function(){var t=$(this).data("id");$("#_idModalInput").val(t),$("#_kampretDeleteModal").modal("show")})),_MAIN_TABLE=$("#_myKampretTable");var o=[],s=[];$.each(l.fields,(function(t,e){o.push({name:e.name});let a={datafield:e?.name,text:e?.text,sortable:null==e?.sortable||e?.sortable,filterable:null==e?.filterable||e?.filterable};null!=e?.width&&(a.width=e?.width),s.push(a)})),function(t=[],e=[]){var a={datatype:"json",datafields:t,cache:!1,async:!0,search:{caption:"Search...",Find:"Find",Reset:"Reset",odata:["equal","not equal","less","less or equal","greater","greater or equal","begins with","does not begin with","is in","is not in","ends with","does not end with","contains","does not contain"]},url:_MAIN_LIST_URL+"?onchange=false",root:"Rows",beforeprocessing:function(t){a.totalrecords=t.TotalRows},filter:function(){$("#_myKampretTable").jqxGrid("updatebounddata","filter")},sort:function(){$("#_myKampretTable").jqxGrid("updatebounddata","sort")}},l=new $.jqx.dataAdapter(a);$("#_myKampretTable").jqxGrid({width:"100%",source:l,filterable:!0,theme:"classic",autoheight:!1,pageable:!0,virtualmode:!0,rowsheight:30,sortable:!0,columnsresize:!0,enablebrowserselection:!0,rendergridrows:function(t){return t.data},columns:e})}(o,s)}}}(jQuery);